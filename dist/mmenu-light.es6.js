/*!
 * mmenu-light v1.0.6
 * mmenujs.com/mmenu-light
 *
 * Copyright (c) Fred Heusschen
 * www.frebsite.nl
 *
 * License: CC-BY-4.0
 * http://creativecommons.org/licenses/by/4.0/
 */
const mmlight=(()=>{const e=e=>Array.prototype.slice.call(e),t=(t,m)=>e((m||document).querySelectorAll(t));var m=m=>{document.addEventListener("click",e=>{const t=e.target;t.closest(".mm")&&t.matches("a")&&e.stopPropagation()});const s=e=>{e.target.closest(".mm")||t(".mm.mm--open").forEach(t=>{e.preventDefault(),e.stopPropagation(),t.mmenu.close()})};document.addEventListener("click",t=>{const m=t.target,s=m.closest(".mm");if(s){let n=m.matches("li")?m:!!m.matches("span")&&m.parentElement;n&&(t.stopPropagation(),e(n.children).forEach(e=>{e.matches("ul")&&(n.parentElement.classList.add("mm--parent"),s.mmenu.openPanel(e))}))}}),document.addEventListener("click",e=>{const m=e.target;if(m.matches(".mm")){e.stopPropagation();let s=t(".mm--open",m),n=s[s.length-1];if(n){n.classList.remove("mm--open");let e=n.parentElement.closest("ul");e&&m.mmenu.openPanel(e)}}}),m.bodyClose&&document.addEventListener("click",s),document.addEventListener("touchstart",s)};return(s,n)=>{const a=Object.assign({},{bodyClose:!0},n);m(a),m=()=>{};var o=null;const l=e=>{s.classList[e.matches?"add":"remove"]("mm")},c={create:e=>(void 0===e&&(e="all"),"number"==typeof e&&(e="(max-width: "+e+"px)"),(o=window.matchMedia(e)).addListener(l),s.classList[o.matches?"add":"remove"]("mm"),c),destroy:()=>(o.removeListener(l),s.classList.remove("mm"),c),init:e=>{let m=t(e,s),n=m[m.length-1],a=null;return n&&(a=n.closest("ul")),a||(a=s.querySelector("ul")),c.openPanel(a),c},open:()=>(s.classList.add("mm--open"),c),close:()=>(s.classList.remove("mm--open"),c),openPanel:m=>{m||(m=s.querySelector("ul"));let n=m.dataset.mmTitle,a=m.parentElement;a===s?(s.classList.add("mm--home"),n||(n="Menu"),s.dataset.mmTitle=n):(s.classList.remove("mm--home"),n||e(a.children).forEach(e=>{e.matches("a, span")&&(n=e.textContent)}),n&&(s.dataset.mmTitle=n)),t(".mm--open",s).forEach(e=>{e.classList.remove(".mm--open","mm--parent")}),m.classList.add("mm--open"),m.classList.remove("mm--parent");let o=m.parentElement.closest("ul");for(;o;)o.classList.add("mm--open","mm--parent"),o=o.parentElement.closest("ul");return c}};return s.mmenu=c,c}})();export default mmlight;